(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{96:function(t,e,a){"use strict";a.r(e);var n=a(25),s=a.n(n),r=a(40),i=a.n(r),o=a(41),c=a(17),h=a.n(c);i()(s.a);var u={name:"Dashboard",components:{Highcharts:Object(o.a)("Highcharts",s.a)},data:function(){return{query:{month:h()().format("YYYY-MM")},chart_types:[{text:"Line",value:"line"},{text:"Spline",value:"spline"},{text:"Area",value:"area"},{text:"Area Spline",value:"areaspline"},{text:"Column",value:"column"},{text:"Bar",value:"bar"},{text:"Pie",value:"pie"},{text:"Scatter",value:"scatter"}],enable_chart:!1,chartOptions:{chart:{type:"area"},title:{text:"Check-in and Check-outs"},subtitle:{text:"Overview"},xAxis:{title:{text:"Dates"},categories:[]},yAxis:{title:{text:"Transactions"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1}},series:[{name:"Check Ins",data:[]},{name:"Check Outs",data:[]}]}}},mounted:function(){this.getCheckInOuts()},methods:{getCheckInOuts:function(){var t=this;this.enable_chart=!1,this.chartOptions.subtitle.text="Overview: "+this.query.month,this.chartOptions.xAxis.categories=[];var e=h()(this.query.month).daysInMonth();this.chartOptions.series=[{name:"Check Ins",data:[]},{name:"Check Outs",data:[]}];for(var a=1;a<=e;a++)this.chartOptions.xAxis.categories.push(a),this.chartOptions.series[0].data.push(0),this.chartOptions.series[1].data.push(0);this.query.month&&axios.post(route("Backend.Widgets.CheckInOuts").url(),{month:this.query.month}).then((function(e){var a=0;for(var n in e.data.check_in)a=Number(n.toString().split("-")[2]),t.chartOptions.series[0].data[a-1]=e.data.check_in[n];for(var s in e.data.check_out)a=Number(s.toString().split("-")[2]),t.chartOptions.series[1].data[a-1]=e.data.check_out[s]})).catch((function(t){console.log(t.response.data)})).finally((function(){t.enable_chart=!0}))}}},p=a(4),l=Object(p.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",[a("b-card",{attrs:{"header-class":"p-1"},scopedSlots:t._u([{key:"header",fn:function(){return[a("b-row",[a("b-col",[a("b-input-group",{attrs:{prepend:"Select Month"},scopedSlots:t._u([{key:"append",fn:function(){return[a("b-button",{on:{click:t.getCheckInOuts}},[t._v("Refresh")])]},proxy:!0}])},[a("b-form-input",{attrs:{type:"month"},on:{change:t.getCheckInOuts},model:{value:t.query.month,callback:function(e){t.$set(t.query,"month",e)},expression:"query.month"}})],1)],1),t._v(" "),a("b-col",[a("b-input-group",{attrs:{prepend:"Chart Type"}},[a("b-form-select",{attrs:{options:t.chart_types},model:{value:t.chartOptions.chart.type,callback:function(e){t.$set(t.chartOptions.chart,"type",e)},expression:"chartOptions.chart.type"}})],1)],1)],1)]},proxy:!0}])},[t._v(" "),t.enable_chart?a("Highcharts",{attrs:{options:t.chartOptions}}):t._e()],1)],1)],1)],1)}),[],!1,null,"81865fd6",null);e.default=l.exports}}]);